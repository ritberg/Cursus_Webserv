<!DOCTYPE html>
<html>
<head>
    <title>Photo Upload CGI</title>
</head>
<body>
    <h1>Photo uploading</h1>

    <form action='' method='post' enctype='multipart/form-data'>
        <label for='name'>Your Name:</label>
        <input type='text' name='name'>
        <br>
        <label for='photo'>Choose a photo:</label>
        <input type='file' name='photo'>
        <br>
        <input type='submit' value='Upload'>
    </form>

    <form action='' method='post' id='deleteForm'>
        <input type='hidden' name='action' value='delete'>
        <input type='button' value='Delete' onclick='sendDeleteRequest()'>
    </form>

    <script>
        function sendDeleteRequest() {
            // Use JavaScript to send a DELETE request when the 'Delete' button is clicked
            fetch('/cgi-bin/cgi.php', {
                method: 'DELETE', 
                headers: {
                    'Content-Type': 'application/json',
                    // Add any other headers as needed
                },
                body: JSON.stringify({
                    // Add any data you want to send with the DELETE request
                }),
            })
            .then(response => {
                if (!response.ok) {
                    throw new Error('Network response was not ok');
                }
                // Parse the response text as HTML and append it to the body
                return response.text();
            })
            .then(responseText => {
                document.body.insertAdjacentHTML('beforeend', responseText);
            })
            .catch(error => console.error('Error:', error));
        }
    </script>
</body>
</html>

